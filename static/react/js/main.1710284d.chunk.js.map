{"version":3,"sources":["Side/SideTab.js","Side/NavBar.js","Graph/Graph.js","App.js","index.js"],"names":["SideTab","this","props","open","id","className","onClick","closeSide","node","name","description","href","target","rel","React","Component","countries","require","getSuggestions","value","inputValue","trim","toLowerCase","inputLength","length","filter","country","slice","NavBar","onChange","event","newValue","setState","onSuggestionsFetchRequested","suggestions","onSuggestionsClearRequested","state","getSuggestionValue","s","renderSuggestion","inputProps","placeholder","Graph","fgRef","createRef","selectedNode","hoverNode","visited","Set","highlightLinks","ref","graphData","data","enableNodeDrag","nodeLabel","nodeCanvasObject","ctx","globalScale","fontSize","Math","max","font","val","textAlign","textBaseline","fillStyle","has","fillText","x","y","onNodeHover","document","body","style","cursor","onNodeClick","setNode","openSide","links","link","source","add","current","centerAt","zoom","onBackgroundClick","linkWidth","cooldownTicks","onEngineStop","zoomToFit","App","bind","window","token","ReactDOM","render","getElementById"],"mappings":"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","file":"js/main.1710284d.chunk.js","sourcesContent":["import React from 'react';\r\nimport './SideTab.css'\r\n\r\nexport class SideTab extends React.Component {   \r\n    render() {\r\n        if (!this.props.open) {\r\n            return null;\r\n        }\r\n        return (\r\n            <div id='SideTab'>\r\n                <button className='btn close-btn' onClick={this.props.closeSide}>&times;</button>\r\n                <h1 id='info-title'>{this.props.node.name}</h1>\r\n                <hr />\r\n                <p id='main-info'>{this.props.node.description}</p>\r\n                <p><a href={this.props.node.href} target='_blank' rel=\"noreferrer\" id='wiki-link'>Read More</a></p>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SideTab;","import React from 'react';\r\nimport Autosuggest from 'react-autosuggest';\r\nimport './NavBar.css';\r\n\r\n\r\nconst countries = require('./countries.json');\r\n\r\nconst getSuggestions = value => { // GET RID OF THIS ONCE WE HAVE WIKI AUTOSUGGEST\r\n  const inputValue = value.trim().toLowerCase();\r\n  const inputLength = inputValue.length;\r\n\r\n  return inputLength === 0 ? [] : countries.filter(country =>\r\n    country.name.toLowerCase().slice(0, inputLength) === inputValue\r\n  );\r\n\r\n    // // SOME CODE FOR AUTOCOMPLETE SUGGESTIONS\r\n    // const url = 'http://en.wikipedia.org/w/api.php?action=opensearch&limit=10&format=json&callback=addSuggest';\r\n    // fetch(`${url}&search=${this.state.value}`)\r\n    //     .then(res => res.json())\r\n    //     .then(data => {\r\n    //         console.log(data);\r\n    //         this.setState({suggestions: data});\r\n    //     });\r\n\r\n};\r\n\r\n \r\nexport class NavBar extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      value: '',\r\n      suggestions: []\r\n    };\r\n  }\r\n \r\n  onChange = (event, { newValue }) => {\r\n    this.setState({\r\n      value: newValue\r\n    });\r\n  };\r\n\r\n  onSuggestionsFetchRequested = ({ value }) => {\r\n    this.setState({\r\n      suggestions: getSuggestions(value)\r\n    });\r\n  };\r\n \r\n  onSuggestionsClearRequested = () => {\r\n    this.setState({\r\n      suggestions: []\r\n    });\r\n  };\r\n \r\n  render() {\r\n    const { value, suggestions } = this.state;\r\n\r\n    return (\r\n      <Autosuggest\r\n        suggestions={suggestions}\r\n        onSuggestionsFetchRequested={this.onSuggestionsFetchRequested}\r\n        onSuggestionsClearRequested={this.onSuggestionsClearRequested}\r\n        getSuggestionValue={s => s.name}\r\n        renderSuggestion={s => <div>{s.name}</div>}\r\n        inputProps={{\r\n            placeholder: 'Search',\r\n            value,\r\n            onChange: this.onChange\r\n        }}\r\n      />\r\n    );\r\n  }\r\n\r\n    // <nav id='navbar' className='navbar'>\r\n    // <div style={{display: 'inline-block', width:'100%'}}>\r\n    //     <form method=\"GET\" id=\"query-form\" autoComplete='off'>\r\n    //         <div className='form-group mb-0'>\r\n    //             <label htmlFor='q' className='small text-muted mb-0'>Search</label>\r\n    //             <input list='suggest' className=\"form-control\" id='q' name='q' value={this.state.value} onChange={this.handleChange}/>\r\n    //             <ul id='suggest'></ul>\r\n    //         </div> \r\n    //     </form>\r\n    // </div>\r\n    // </nav>\r\n\r\n}\r\n\r\n\r\nexport default NavBar;","import React from 'react';\r\nimport ForceGraph2D from 'react-force-graph-2d';\r\n\r\nexport class Graph extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.fgRef = React.createRef();\r\n        this.state = {\r\n            selectedNode: \"\",\r\n            hoverNode: \"\",\r\n            visited: new Set(),\r\n            highlightLinks: new Set()\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <ForceGraph2D\r\n                ref={this.fgRef}\r\n                graphData={this.props.data}\r\n                enableNodeDrag={false}\r\n                nodeLabel='href'\r\n                nodeCanvasObject={(node, ctx, globalScale) => {\r\n                    const fontSize = Math.max((node.value * 300) / globalScale, 2); // this formula has to change with the \r\n\r\n                    ctx.font = `${fontSize}px Times-new-roman`;\r\n                    node.val = fontSize;\r\n\r\n                    ctx.textAlign = 'center';\r\n                    ctx.textBaseline = 'middle';\r\n                    \r\n                    if (this.props.node && this.props.node.id === node.id) { // probably a way to optimize this control flow...\r\n                        ctx.fillStyle = '#0000FF';\r\n                    } else if (this.state.hoverNode === node) {\r\n                        ctx.fillStyle = '#751F80';\r\n                    } else if (this.state.visited.has(node.id)) {\r\n                        ctx.fillStyle = '#751F80';\r\n                    } else {\r\n                        ctx.fillStyle = '#0645BD'\r\n                    }\r\n\r\n                    ctx.fillText(node.name, node.x, node.y);\r\n                }}\r\n                onNodeHover={node => {\r\n                    if (node) {\r\n                        document.body.style.cursor = 'pointer';\r\n                        this.setState({hoverNode: node});\r\n                    } else {\r\n                        document.body.style.cursor = 'default';\r\n                        this.setState({hoverNode: null});\r\n                    }\r\n                }}\r\n                onNodeClick={node => { // FIX THIS REACT\r\n                    if (node) {\r\n                        this.props.setNode(node);\r\n                        this.props.openSide();\r\n                        \r\n                        let highlightLinks = new Set();\r\n                        for (var link of this.props.data.links) { // there must be a way to optimize this\r\n                            if (link.source.id === node.id || link.target.id === node.id) {\r\n                                highlightLinks.add(link);\r\n                            }\r\n                        }\r\n                        this.setState({highlightLinks: highlightLinks});\r\n                        this.setState({visited: this.state.visited.add(node.id)})\r\n                        this.fgRef.current.centerAt(node.x - 40, node.y, 1000); // Change node.x to something to do with screen width\r\n                        this.fgRef.current.zoom(5, 2000);\r\n                    }\r\n                }}\r\n                onBackgroundClick={() => {\r\n                    this.setState({highlightLinks: new Set()});\r\n                }}\r\n                linkWidth={link => \r\n                    this.state.highlightLinks.has(link) ? 5 : 1\r\n                }\r\n                cooldownTicks={50}\r\n                onEngineStop={() => this.fgRef.current.zoomToFit(400)}\r\n            />\r\n        );\r\n    }\r\n};\r\n\r\nexport default Graph;","import React from 'react';\r\nimport { SideTab } from './Side/SideTab.js';\r\nimport { NavBar } from './Side/NavBar.js';\r\nimport { Graph } from './Graph/Graph.js';\r\nimport './App.css';\r\n\r\nexport class App extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            open: false,\r\n            node: null,\r\n        }\r\n\r\n        this.openSide = this.openSide.bind(this);\r\n        this.closeSide = this.closeSide.bind(this);\r\n        this.setNode = this.setNode.bind(this);\r\n    }\r\n\r\n    openSide() {\r\n        this.setState({ open: true });\r\n    }\r\n\r\n    closeSide() {\r\n        this.setState({ open: false });\r\n    }\r\n\r\n    setNode(node) {\r\n        this.setState({ node: node });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='row'>\r\n                <p>Flask Token = {window.token}</p>\r\n                <div className='col-md-4' id=\"sidebar\">\r\n                    <NavBar />\r\n                    <SideTab open={this.state.open} closeSide={this.closeSide} node={this.state.node} />\r\n                </div>\r\n                <div className='col-lg' id=\"graph\">\r\n                    <Graph data={this.props.data} node={this.state.node} setNode={this.setNode} openSide={this.openSide} closeSide={this.closeSide} />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;\r\n\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport {App} from './App.js';\n\nconst data = require('./Renaissance.json'); // needs to be dynamically fetched from server\n\nReactDOM.render(\n  <App data={data}/>,\n  document.getElementById('root')\n);\n "],"sourceRoot":""}