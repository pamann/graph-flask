{"version":3,"sources":["Side/SideTab.js","Side/NavBar.js","Graph/Graph.js","App.js","index.js"],"names":["SideTab","this","props","open","id","className","onClick","closeSide","node","name","description","href","target","rel","React","Component","countries","require","getSuggestions","value","inputValue","trim","toLowerCase","inputLength","length","filter","country","slice","NavBar","onChange","event","newValue","setState","onSuggestionsFetchRequested","suggestions","onSuggestionsClearRequested","state","getSuggestionValue","s","renderSuggestion","inputProps","placeholder","Graph","fetchData","search","fetch","then","res","console","log","json","result","isLoaded","items","fgRef","createRef","selectedNode","hoverNode","visited","Set","highlightLinks","ref","graphData","enableNodeDrag","nodeLabel","nodeCanvasObject","ctx","globalScale","fontSize","Math","max","font","val","textAlign","textBaseline","fillStyle","has","fillText","x","y","onNodeHover","document","body","style","cursor","onNodeClick","setNode","openSide","data","links","link","source","add","current","centerAt","zoom","onBackgroundClick","linkWidth","cooldownTicks","onEngineStop","zoomToFit","App","bind","window","token","ReactDOM","render","getElementById"],"mappings":"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","file":"js/main.77792b28.chunk.js","sourcesContent":["import React from 'react';\r\nimport './SideTab.css'\r\n\r\nexport class SideTab extends React.Component {   \r\n    render() {\r\n        if (!this.props.open) {\r\n            return null;\r\n        }\r\n        return (\r\n            <div id='SideTab'>\r\n                <button className='btn close-btn' onClick={this.props.closeSide}>&times;</button>\r\n                <h1 id='info-title'>{this.props.node.name}</h1>\r\n                <hr />\r\n                <p id='main-info'>{this.props.node.description}</p>\r\n                <p><a href={this.props.node.href} target='_blank' rel=\"noreferrer\" id='wiki-link'>Read More</a></p>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SideTab;","import React from 'react';\r\nimport Autosuggest from 'react-autosuggest';\r\nimport './NavBar.css';\r\n\r\n\r\nconst countries = require('./countries.json');\r\n\r\nconst getSuggestions = value => { // GET RID OF THIS ONCE WE HAVE WIKI AUTOSUGGEST\r\n  const inputValue = value.trim().toLowerCase();\r\n  const inputLength = inputValue.length;\r\n\r\n  return inputLength === 0 ? [] : countries.filter(country =>\r\n    country.name.toLowerCase().slice(0, inputLength) === inputValue\r\n  );\r\n\r\n    // // SOME CODE FOR AUTOCOMPLETE SUGGESTIONS\r\n    // const url = 'http://en.wikipedia.org/w/api.php?action=opensearch&limit=10&format=json&callback=addSuggest';\r\n    // fetch(`${url}&search=${this.state.value}`)\r\n    //     .then(res => res.json())\r\n    //     .then(data => {\r\n    //         console.log(data);\r\n    //         this.setState({suggestions: data});\r\n    //     });\r\n\r\n};\r\n\r\n \r\nexport class NavBar extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      value: '',\r\n      suggestions: []\r\n    };\r\n  }\r\n \r\n  onChange = (event, { newValue }) => {\r\n    this.setState({\r\n      value: newValue\r\n    });\r\n  };\r\n\r\n  onSuggestionsFetchRequested = ({ value }) => {\r\n    this.setState({\r\n      suggestions: getSuggestions(value)\r\n    });\r\n  };\r\n \r\n  onSuggestionsClearRequested = () => {\r\n    this.setState({\r\n      suggestions: []\r\n    });\r\n  };\r\n \r\n  render() {\r\n    const { value, suggestions } = this.state;\r\n\r\n    return (\r\n      <Autosuggest\r\n        suggestions={suggestions}\r\n        onSuggestionsFetchRequested={this.onSuggestionsFetchRequested}\r\n        onSuggestionsClearRequested={this.onSuggestionsClearRequested}\r\n        getSuggestionValue={s => s.name}\r\n        renderSuggestion={s => <div>{s.name}</div>}\r\n        inputProps={{\r\n            placeholder: 'Search',\r\n            value,\r\n            onChange: this.onChange\r\n        }}\r\n      />\r\n    );\r\n  }\r\n\r\n    // <nav id='navbar' className='navbar'>\r\n    // <div style={{display: 'inline-block', width:'100%'}}>\r\n    //     <form method=\"GET\" id=\"query-form\" autoComplete='off'>\r\n    //         <div className='form-group mb-0'>\r\n    //             <label htmlFor='q' className='small text-muted mb-0'>Search</label>\r\n    //             <input list='suggest' className=\"form-control\" id='q' name='q' value={this.state.value} onChange={this.handleChange}/>\r\n    //             <ul id='suggest'></ul>\r\n    //         </div> \r\n    //     </form>\r\n    // </div>\r\n    // </nav>\r\n\r\n}\r\n\r\n\r\nexport default NavBar;","import React from 'react';\r\nimport ForceGraph2D from 'react-force-graph-2d';\r\n\r\nexport class Graph extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.fgRef = React.createRef();\r\n        this.state = {\r\n            selectedNode: \"\",\r\n            hoverNode: \"\",\r\n            visited: new Set(),\r\n            highlightLinks: new Set()\r\n        }\r\n    }\r\n\r\n    fetchData = (search) => {\r\n        fetch(\"/see?search=\" + search)\r\n            .then(res => console.log(res))\r\n            .then(res => res.json())\r\n            .then(\r\n                (result) => {\r\n                    this.setState({\r\n                        isLoaded: true,\r\n                        items: result.items\r\n                    });\r\n                }\r\n            )\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <ForceGraph2D\r\n                ref={this.fgRef}\r\n                graphData={this.fetchData(\"Halloween\")}\r\n                enableNodeDrag={false}\r\n                nodeLabel='href'\r\n                nodeCanvasObject={(node, ctx, globalScale) => {\r\n                    const fontSize = Math.max((node.value * 300) / globalScale, 2); // this formula has to change with the \r\n\r\n                    ctx.font = `${fontSize}px Times-new-roman`;\r\n                    node.val = fontSize;\r\n\r\n                    ctx.textAlign = 'center';\r\n                    ctx.textBaseline = 'middle';\r\n\r\n                    if (this.props.node && this.props.node.id === node.id) { // probably a way to optimize this control flow...\r\n                        ctx.fillStyle = '#0000FF';\r\n                    } else if (this.state.hoverNode === node) {\r\n                        ctx.fillStyle = '#751F80';\r\n                    } else if (this.state.visited.has(node.id)) {\r\n                        ctx.fillStyle = '#751F80';\r\n                    } else {\r\n                        ctx.fillStyle = '#0645BD'\r\n                    }\r\n\r\n                    ctx.fillText(node.name, node.x, node.y);\r\n                }\r\n                }\r\n                onNodeHover={node => {\r\n                    if (node) {\r\n                        document.body.style.cursor = 'pointer';\r\n                        this.setState({ hoverNode: node });\r\n                    } else {\r\n                        document.body.style.cursor = 'default';\r\n                        this.setState({ hoverNode: null });\r\n                    }\r\n                }}\r\n                onNodeClick={node => { // FIX THIS REACT\r\n                    if (node) {\r\n                        this.props.setNode(node);\r\n                        this.props.openSide();\r\n\r\n                        let highlightLinks = new Set();\r\n                        for (var link of this.props.data.links) { // there must be a way to optimize this\r\n                            if (link.source.id === node.id || link.target.id === node.id) {\r\n                                highlightLinks.add(link);\r\n                            }\r\n                        }\r\n                        this.setState({ highlightLinks: highlightLinks });\r\n                        this.setState({ visited: this.state.visited.add(node.id) })\r\n                        this.fgRef.current.centerAt(node.x - 40, node.y, 1000); // Change node.x to something to do with screen width\r\n                        this.fgRef.current.zoom(5, 2000);\r\n                    }\r\n                }}\r\n                onBackgroundClick={() => {\r\n                    this.setState({ highlightLinks: new Set() });\r\n                }}\r\n                linkWidth={\r\n                    link =>\r\n                        this.state.highlightLinks.has(link) ? 5 : 1\r\n                }\r\n                cooldownTicks={50}\r\n                onEngineStop={() => this.fgRef.current.zoomToFit(400)}\r\n            />\r\n        );\r\n    }\r\n};\r\n\r\nexport default Graph;","import React from 'react';\r\nimport { SideTab } from './Side/SideTab.js';\r\nimport { NavBar } from './Side/NavBar.js';\r\nimport { Graph } from './Graph/Graph.js';\r\nimport './App.css';\r\n\r\nexport class App extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            open: false,\r\n            node: null,\r\n        }\r\n\r\n        this.openSide = this.openSide.bind(this);\r\n        this.closeSide = this.closeSide.bind(this);\r\n        this.setNode = this.setNode.bind(this);\r\n    }\r\n\r\n    openSide() {\r\n        this.setState({ open: true });\r\n    }\r\n\r\n    closeSide() {\r\n        this.setState({ open: false });\r\n    }\r\n\r\n    setNode(node) {\r\n        this.setState({ node: node });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='row'>\r\n                <p>Flask Token = {window.token}</p>\r\n                <div className='col-md-4' id=\"sidebar\">\r\n                    <NavBar />\r\n                    <SideTab open={this.state.open} closeSide={this.closeSide} node={this.state.node} />\r\n                </div>\r\n                <div className='col-lg' id=\"graph\">\r\n                    <Graph data={this.props.data} node={this.state.node} setNode={this.setNode} openSide={this.openSide} closeSide={this.closeSide} />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;\r\n\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { App } from './App.js';\n\n// const data = require('./Renaissance.json'); // needs to be dynamically fetched from server\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}